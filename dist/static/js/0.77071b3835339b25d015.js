webpackJsonp([0],{"+IJs":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i,l=n("Zx67"),h=n.n(l),r=n("Zrlr"),s=n.n(r),o=n("wxAW"),c=n.n(o),u=n("zwoO"),d=n.n(u),p=n("Pf15"),g=n.n(p),f=n("7+uW"),v=n("c+8m"),x=n.n(v),y=(n("iO/I"),n("+Ube")),m=(n("tmXF"),x()({props:{default:String}})(a=function(e){function t(){var e,n,a,i;s()(this,t);for(var l=arguments.length,r=Array(l),o=0;o<l;o++)r[o]=arguments[o];return n=a=d()(this,(e=t.__proto__||h()(t)).call.apply(e,[this].concat(r))),a.inputText="",i=n,d()(a,i)}return g()(t,e),c()(t,[{key:"handleSearch",value:function(){console.log(this.inputText),this.$emit("click",this.inputText)}},{key:"handleChange",value:function(e){this.inputText=e.target.value}},{key:"render",value:function(){var e=this,t=arguments[0];return t("div",[t("div",{class:"SearchHeadViewClass"},[t("div",{style:"width:100%;height:44px;display:flex"},[t("div",{style:"flex:3"},[t("input",{domProps:{value:this.default},class:"inputCSS",on:{change:function(t){e.handleChange(t)}},attrs:{placeholder:"输入您的钱包地址"}})]),t("span",{style:"flex:1",class:"SearchHeadViewRightIconClass",on:{click:this.handleSearch}},["获取"])])]),t("p",{style:"text-align:center;color:#fff;margin:0px;font-size:6px"},["输入您的钱包地址，获取所有记录"])])}}]),t}(f.default))||a),k=n("/Bnp"),w=n("M5xa");n.d(t,"default",function(){return S});var S=x()(i=function(e){function t(){var e,n,a,i;s()(this,t);for(var l=arguments.length,r=Array(l),o=0;o<l;o++)r[o]=arguments[o];return n=a=d()(this,(e=t.__proto__||h()(t)).call.apply(e,[this].concat(r))),a.wrapperHeight=0,a.records=[],a.showAlert=!1,a.page=1,a.orderStatus="",a.maxPage=0,a.inputText="",a.defaultInput="",a.searchResult=[],a.currentPage=0,a.showLoading=!1,a.clickModel={},i=n,d()(a,i)}return g()(t,e),c()(t,[{key:"created",value:function(){this.wrapperHeight=document.documentElement.clientHeight;var e=this.$route.params.address;console.log(e),e&&(this.handleSearch(e),this.defaultInput=e),eventBus.$on("addSuccess",this.handleSearch),eventBus.$on("refreshAlert",this.handleRefreshAlert)}},{key:"handleSearch",value:function(e){if((e=e.replace(/\s+/g,""))&&""!=e){e?this.inputText=e:e=this.inputText;var t={address:e,page:this.page};this.showLoading=!0,this.handleMaxPages(t);var n=this;Object(w.h)(t).then(function(e){n.showLoading=!1,n.currentPage=n.page,n.records=e,n.records.length<=0&&alert("暂无数据")})}else alert("请输入您的钱包地址")}},{key:"handleMaxPages",value:function(e){var t=this;Object(w.f)(e).then(function(e){t.maxPage=e})}},{key:"handleCheckRecord",value:function(){}},{key:"handleRefreshAlert",value:function(){if(this.clickModel){var e=this.clickModel,t=this;Object(w.g)(e.num).then(function(e){console.log(e),t.searchResult=e,t.showAlert=!0})}}},{key:"handleEdit",value:function(e){var t=this.records[e];this.clickModel=t;var n=this;Object(w.g)(t.num).then(function(e){console.log(e),n.searchResult=e,console.log("rs"),console.log(n.searchResult),n.showAlert=!n.showAlert})}},{key:"handleShowAlert",value:function(){this.showAlert=!this.showAlert}},{key:"handleLeft",value:function(){this.page>1&&(this.page-=1,this.handleSearch())}},{key:"handleRight",value:function(){this.page<this.maxPage?(this.page+=1,this.handleSearch()):prompt("最后一页")}},{key:"handleBackHome",value:function(){this.$router.push({name:"HomePage"})}},{key:"handleJumpAdd",value:function(){this.$router.push({name:"AddRecord"})}},{key:"handlerGoManager",value:function(){this.$router.push({name:"ManagerRecord"})}},{key:"handleStatus",value:function(e){var t="";return 1==e?t="待收款方确认":2==e?t="待付款方支付":3==e?t="待收款方确认":4==e&&(t="已完结"),t}},{key:"handleCreateCell",value:function(){var e=this,t=this.$createElement;return this.records.map(function(n,a){return t("div",{class:"recordCell"},[t("p",{style:"width:20%;float:left"},["编号:"+n.num]),t("div",{style:"width:60%;float:left"},[t("p",{style:"margin:0px;line-height:30px;height:30px"},["应收账款:"+n.money+"元         到账日期:"+n.endtime+"         记录:"+n.tiaoshu+"条"]),t("span",{style:"margin:0px;line-height:30px;height:30px"},["付款方:"+n.payer+"   收款方:"+n.receiveer])]),t("p",{style:"float:left;width:8%;color:#00998b;"},[e.handleStatus(n.status)]),t("span",{style:"float:right;text-align:right;width:12%;margin-right:20px;color:rgb(255, 69, 69);",on:{click:function(){e.handleEdit(a)}}},["查看详情/编辑"]),t("div",{style:"position:relative;bottom:1px;height:0.6px;background:#eee;margin:0 10px"})])})}},{key:"render",value:function(){var e=this,t=arguments[0];return t("div",{class:"mainContent",style:this.caculateHeight},[t(y.a,{on:{backHome:this.handleBackHome,managerRecord:this.handlerGoManager,addRecord:this.handleJumpAdd}}),t("p",{style:"margin-top:100px;font-size:20px;text-align:center;color:#fff"},["管理记录"]),t(m,{attrs:{default:this.defaultInput},on:{click:function(t){return e.handleSearch(t)}}}),t("p",{style:"color:#fff;margin-left:20px;font-size:12px;text-align:left"},["记录列表"]),t("div",{style:"height:0.6px;background:#eee;margin:0 10px"}),t("div",{style:"over-flow:auto;display:hidden"},[this.handleCreateCell()]),t("div",{style:"height:0.6px;background:#eee;margin:0 10px;padding-top:1px"}),t("div",{directives:[{name:"show",value:this.records.length}],style:"display:flex;float:right;color:#fff;width:110px;height:40px;position:relative"},[t("span",{on:{click:this.handleLeft},style:"text-align:center;float:left;width:40px;height:40px;line-height:40px"},["  ＜  "]),t("p",{style:"text-align:center;margin:0;float:right;width:10px;height:40px;line-height:40px"},[this.currentPage]),t("font",{on:{click:this.handleRight},style:"text-align:center;float:right;width:40px;height:40px;line-height:40px"},["  ＞  "])]),t(k.a,{attrs:{address:this.inputText,items:this.searchResult},directives:[{name:"show",value:this.showAlert}],on:{close:this.handleShowAlert}}),t("mt-spinner",{style:"top: 40%; left: 50%; transform:translate(-50%,-50%); position: absolute",directives:[{name:"show",value:this.showLoading}],attrs:{type:"triple-bounce"}})])}},{key:"caculateHeight",get:function(){return"height:"+String(this.wrapperHeight)+"px"}}]),t}(f.default))||i}});
//# sourceMappingURL=0.77071b3835339b25d015.js.map