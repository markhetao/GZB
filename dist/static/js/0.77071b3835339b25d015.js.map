{"version":3,"sources":["webpack:///./src/components/searchView.js","webpack:///./src/module/managerRecord.js"],"names":["searchView_SearchView","vue_class_component_common_default","props","default","String","inputText","console","log","this","$emit","e","target","value","_this2","h","arguments","class","style","domProps","on","change","handleChange","attrs","placeholder","click","handleSearch","vue_esm","managerRecord_ManagerRecord","wrapperHeight","records","showAlert","page","orderStatus","maxPage","defaultInput","searchResult","currentPage","showLoading","clickModel","document","documentElement","clientHeight","add","$route","params","address","eventBus","$on","handleRefreshAlert","replace","model","handleMaxPages","self","Object","methods","then","rs","length","alert","num","index","prompt","$router","push","name","statusId","text","$createElement","map","money","endtime","tiaoshu","payer","receiveer","handleStatus","status","handleEdit","_this3","caculateHeight","headView","backHome","handleBackHome","managerRecord","handlerGoManager","addRecord","handleJumpAdd","handleCreateCell","directives","handleLeft","handleRight","detailAlertView","items","close","handleShowAlert","type"],"mappings":"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","file":"static/js/0.77071b3835339b25d015.js","sourcesContent":["import Vue from 'vue'\nimport Component from 'vue-class-component'\nimport './components.css'\n\n@Component({\n  props:{\n    default:String\n  }\n})\nexport default class SearchView extends Vue {\n\n  inputText = ''\n\n\thandleSearch(){\n   console.log(this.inputText)\n\n\t\tthis.$emit('click',this.inputText)\n\t}\n\n  handleChange (e) {\n    this.inputText = e.target.value\n    // this.$emit('value',e.target.value)\n  }\n  render () {\n    return (\n     <div>\n    \t<div class='SearchHeadViewClass'>\n         <div style='width:100%;height:44px;display:flex'>\n          <div style='flex:3'>\n            <input value={this.default} class='inputCSS' onChange={value => { this.handleChange(value) }} placeholder=\"输入您的钱包地址\" />\n          </div>\n          <span style='flex:1' class='SearchHeadViewRightIconClass' onClick = {this.handleSearch}>\n          获取\n          </span>\n        </div>\n      </div>\n      <p style = 'text-align:center;color:#fff;margin:0px;font-size:6px'>输入您的钱包地址，获取所有记录</p>\n      </div>\n    )\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/searchView.js","import Vue from 'vue'\nimport Component from 'vue-class-component'\nimport './content.css'\nimport HeadView from '../components/headView.js'\nimport SearchView from '../components/searchView.js'\nimport DetailAlertView from '../components/detailAlertView.js'\nimport { getUserRecord ,getMaxPage,getRecordDetail } from './methods.js'\n\n@Component\nexport default class ManagerRecord extends Vue {\n  wrapperHeight = 0\n  records = []\n  showAlert = false\n  page = 1\n  orderStatus=''\n  maxPage = 0\n  inputText= ''\n  defaultInput = ''\n  searchResult = []\n  currentPage = 0\n  showLoading = false\n  clickModel = {}\n\n  created() {\n      this.wrapperHeight = document.documentElement.clientHeight\n      let add = this.$route.params.address\n      console.log(add)\n      if (add) {\n        this.handleSearch(add)\n        this.defaultInput = add\n      }\n      eventBus.$on('addSuccess',this.handleSearch)\n      eventBus.$on('refreshAlert',this.handleRefreshAlert)\n\n    }\n\n   get caculateHeight() {\n    return 'height:' + String(this.wrapperHeight) + 'px'\n  }\n\n  handleSearch (value){\n      value =value.replace(/\\s+/g,\"\");\n\n      if (!value || value==\"\") {\n        alert(\"请输入您的钱包地址\");\n        return;\n      }\n\n      if (value) {\n        this.inputText = value\n      }else{\n        value = this.inputText\n      }\n      var model = {\n        address:value,\n        page: this.page\n      }\n      this.showLoading = true\n      this.handleMaxPages(model)\n      var p = getUserRecord(model)\n       var self = this\n       p.then(function (rs) {\n            self.showLoading = false\n            self.currentPage = self.page\n            self.records = rs\n            if (self.records.length<=0) {\n              alert('暂无数据')\n            }\n            \n        });\n  }\n\n  handleMaxPages(model){\n    var p = getMaxPage(model)\n\n       var self = this\n       p.then(function (rs) {\n\n            self.maxPage = rs\n        });\n  }\n\n  handleCheckRecord(){\n\n  }\n\n  handleRefreshAlert (){\n    if (this.clickModel) {\n    var model = this.clickModel\n    \n    var p = getRecordDetail(model.num)\n\n     var self = this\n     p.then(function (rs) {\n          console.log(rs)\n          self.searchResult = rs\n          self.showAlert = true\n      });\n    }\n  }\n\n  handleEdit (index){\n    var model = this.records[index]\n    this.clickModel = model\n    var p = getRecordDetail(model.num)\n\n     var self = this\n     p.then(function (rs) {\n          console.log(rs)\n\n          self.searchResult = rs\n          console.log('rs')\n          console.log(self.searchResult)\n          self.showAlert = !self.showAlert\n      });\n    // this.showAlert = !this.showAlert\n  }\n\n  handleShowAlert() {\n    this.showAlert = !this.showAlert\n  }\n\n  handleLeft() {\n    if (this.page >1) {\n      this.page -= 1\n      this.handleSearch()\n    }\n  }\n\n  handleRight() {\n    if (this.page < this.maxPage) {\n      this.page += 1\n      this.handleSearch()\n    }else{\n      prompt('最后一页')\n    }\n  }\n\n  handleBackHome() {\n    this.$router.push({name:'HomePage'})\n  }\n\n  handleJumpAdd (){\n    this.$router.push({name:'AddRecord'})\n  }\n  handlerGoManager (){\n    this.$router.push({name:'ManagerRecord'})\n  }\n  handleStatus(statusId){\n    var text = ''\n    if (statusId == 1) {\n        text = '待收款方确认' \n      }else if (statusId == 2){\n        text = '待付款方支付'\n      }else if (statusId == 3){\n        text = '待收款方确认'\n      }else if (statusId == 4){\n        text = '已完结'\n      }\n      return text\n  }\n  handleCreateCell (){\n    var item = this.records.map((value,index) =>{\n      return <div class ='recordCell'>\n                <p style='width:20%;float:left'>{'编号:' + value.num}</p>\n                <div style='width:60%;float:left'>\n                  <p style='margin:0px;line-height:30px;height:30px'>{'应收账款:'+ value.money+'元         到账日期:'+value.endtime + '         记录:'+ value.tiaoshu+'条'}</p>\n                  <span style='margin:0px;line-height:30px;height:30px'>{'付款方:'+value.payer+ '   收款方:' +value.receiveer}</span>\n                </div>\n                <p style='float:left;width:8%;color:#00998b;'>{this.handleStatus(value.status)}</p>\n                <span style='float:right;text-align:right;width:12%;margin-right:20px;color:rgb(255, 69, 69);' onClick={()=>{this.handleEdit(index)}}>查看详情/编辑</span>\n                <div style='position:relative;bottom:1px;height:0.6px;background:#eee;margin:0 10px'></div>\n            </div>\n    })\n    return item\n  }\n\n  render () {\n    return (\n     <div class = \"mainContent\" style ={this.caculateHeight}>\n      <HeadView onBackHome={this.handleBackHome} onManagerRecord = {this.handlerGoManager} onAddRecord={this.handleJumpAdd}></HeadView>\n      <p style='margin-top:100px;font-size:20px;text-align:center;color:#fff'>管理记录</p>\n       <SearchView default = {this.defaultInput} onClick={value =>this.handleSearch(value)} />\n\n      <p style='color:#fff;margin-left:20px;font-size:12px;text-align:left'>记录列表</p>\n      <div style='height:0.6px;background:#eee;margin:0 10px'></div>\n\n      <div style='over-flow:auto;display:hidden'>\n        {this.handleCreateCell()}\n      </div>\n      <div style='height:0.6px;background:#eee;margin:0 10px;padding-top:1px'></div>\n      <div v-show = {this.records.length} style='display:flex;float:right;color:#fff;width:110px;height:40px;position:relative'>\n        <span onClick={this.handleLeft} style='text-align:center;float:left;width:40px;height:40px;line-height:40px'>  ＜  </span>\n        <p style='text-align:center;margin:0;float:right;width:10px;height:40px;line-height:40px'>{this.currentPage}</p>\n        <font onClick={this.handleRight} style='text-align:center;float:right;width:40px;height:40px;line-height:40px'>  ＞  </font>\n      </div>\n      <DetailAlertView address={this.inputText} items={this.searchResult} v-show={this.showAlert} onClose={this.handleShowAlert} ></DetailAlertView>\n      <mt-spinner style='top: 40%;\n  left: 50%;\n  transform:translate(-50%,-50%);\n  \n  position: absolute' v-show ={this.showLoading} type=\"triple-bounce\"></mt-spinner>\n\n      </div>\n    )\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/module/managerRecord.js"],"sourceRoot":""}